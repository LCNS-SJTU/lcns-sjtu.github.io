{% if include.filter %}
  {% assign filter = include.filter %}
{% else %}
  {% assign filter = 'all' %}
{% endif %}

<table class="table table-sm table-striped table-hover">
    <thead class="thead-dark" 
      style="font-size: 18px; text-align: center;">
      <tr>
        <th scope="col" style="width: 10%">Date</th>
        <th scope="col" style="width: 15%">Presenter</th>
        <th scope="col" style="width: auto">Reading</th>
      </tr>
    </thead>  

    <tbody>
      {% assign nowTimestamp = 'now' | date: '%s' %}
      {% assign nowTimestamp1 = 'now' %}
  
      {% if filter contains 'future' %}
        {% assign sortMeetingInfo = site.data.meeting_info | sort: 'date' %}
      {% else %}
        {% assign sortMeetingInfo = site.data.meeting_info | sort: 'date' | reverse %}
      {% endif %}

      {% for entry in sortMeetingInfo %}
        {% assign dateStart = entry.date | date: '%s' %}
        {% assign diffSeconds = dateStart | minus: nowTimestamp %}

        {% if filter contains 'future' and diffSeconds < 0 %}
          {% continue %}
        {% endif %}
        
        <!-- Set the style of every row. -->
        {% if diffSeconds > 0%}<tr class="future-item">{% else %}<tr>{% endif %}
          
          <!-- date -->
          <th scope="row">
            <p style="text-align: right;">{{entry.date | date: "<b>%Y/%m/%d</b> <br/> %l:%M %p"}}</p>
          </th>
      
          <!-- presenter -->
          <td>
            <p style="text-align: center;">{{entry.presenter}}<br>
            {% assign summary = site.posts |  where: "title", entry.paper%}
            {% for summary_page in summary %}
              {% assign entry_date = entry.date | date_to_string%}
              {% assign summary_date = summary_page.date | date_to_string%}
              {% if summary_date == entry_date %}
                ( <a href= "{{summary_page.url | relative_url }}" target="_blank">Summary</a> )
              {% endif %}
            {% endfor %}
            </p>
          </td>
      
          <!-- paper -->
          <td>
            <p style="margin:0px;"><b>{{entry.paper}}.</b><br>
            {% if entry.authors %}
            <i>{{entry.authors}}</i>
            {% endif %}
            {% assign link_toggle = 0 %}
            {% if entry.url %}
            {% if link_toggle == 0 -%} ( {%- assign link_toggle=1 -%} {%- else -%} , {% endif %}
            <a href="{{entry.url}}">Link</a>
            {% endif %}

            {% if entry.pdf %}
            {% if link_toggle == 0 -%} ( {%- assign link_toggle=1 -%} {%- else -%} , {% endif %}
            <a href="{{entry.pdf}}" target="_blank">PDF</a>
            {% endif %}

            {% if entry.slides %}
            {% if link_toggle == 0 -%} ( {%- assign link_toggle=1 -%} {%- else -%} , {% endif %}
            <a href="{{entry.slides}}" target="_blank">Slides</a>
            {% endif %}
            {% if link_toggle == 1 -%} ) {%- endif %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>